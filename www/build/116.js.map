{"version":3,"sources":["../../src/pages/email/email.ts","../../src/pages/email/email.module.ts","webpack:///./src/pages/email/emailService.ts?e344"],"names":[],"mappings":"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","file":"116.js","sourcesContent":["import { Storage } from '@ionic/storage';\nimport { TabsPage } from './../tabs/tabs';\nimport { IonicPage } from 'ionic-angular/navigation/ionic-page';\nimport { Component, ViewChild } from '@angular/core';\nimport { Nav, Platform, MenuController, AlertController } from 'ionic-angular';\nimport { NavController } from 'ionic-angular/navigation/nav-controller';\n\n\nimport { Events } from 'ionic-angular';\nimport { EmailService } from './emailService';\n\n@IonicPage()\n@Component({\n  selector: 'page-email',\n  templateUrl: 'email.html',\n  providers: [EmailService]\n})\nexport class EmailPage {\n  limit = 20;\n  offset = 0;\n  user_id;\n  email_list;\n  isMoreData = true;\n  account_id;\n  email_type;\n  state_type;\n  data_id;\n  title = '';\n  unseenChoose;\n  frontPageIsUnseen = false;\n  accounts_list;\n  constructor(public menu: MenuController, public alertCtrl: AlertController,\n    public navCtrl: NavController, public event: Events, public emailService: EmailService, public storage: Storage) {\n    storage.get('user')\n      .then(res => {\n        this.user_id = res.result.res_data.user_id\n        this.emailService.getAccountDetail(this.user_id).then(res => {\n          console.log('push了')\n          this.accounts_list = res.result.res_data\n          this.event.publish('emailMenu', res.result.res_data)\n          if (res.result.res_data) {\n            this.account_id = res.result.res_data[0].id\n            this.get_folder_label()\n            this.get_email_list(this.account_id, 'state', 'all_received', '', 20, 0).then(res => {\n              this.email_type = 'state'\n              this.state_type = \"all_received\"\n              this.data_id = ''\n              if (res.result && res.result.res_data) {\n                this.email_list = res.result.res_data.email_list\n                this.title = res.result.res_data.title\n              }\n            })\n          }\n        })\n      });\n    this.event.subscribe('click_envnt', (account_id, email_type, state_type, data_id) => {\n      console.log(\"接收了\")\n      this.account_id = account_id\n      this.email_type = email_type\n      this.state_type = state_type\n      this.data_id = data_id\n      this.isMoreData = true\n      this.get_email_list(account_id, email_type, state_type, data_id, 20, 0).then(res => {\n        this.limit = 20;\n        this.offset = 0;\n        this.email_list = res.result.res_data.email_list\n        this.title = res.result.res_data.title\n        if (state_type == 'unseen') {\n          this.title = this.title + \"·未读\"\n        }\n      })\n    });\n  }\n\n\n  ionViewDidLeave() {\n    // console.log('注销事件传递')\n    // this.event.unsubscribe('click_envnt')\n  }\n\n\n  ionViewWillEnter() {\n    this.menu.enable(true)\n    var bar = document.getElementsByClassName('tabbar').item(0);\n    bar['style'].display = 'flex';\n    if (this.title.indexOf('收件') != -1 && this.frontPageIsUnseen) {\n      this.get_email_list(this.account_id, this.email_type, this.state_type, this.data_id, this.limit + this.offset, 0).then(res => {\n        if (res.result && res.result.res_data) {\n          this.email_list = res.result.res_data.email_list\n        }\n      })\n    }\n  }\n\n  ionViewWillLeave() {\n    this.menu.enable(false)\n    var bar = document.getElementsByClassName('tabbar').item(0);\n    bar['style'].display = 'none';\n  }\n\n\n\n  showMenu() {\n    var bar = document.getElementsByClassName('tabbar').item(0);\n    bar['style'].display = 'none';\n  }\n\n  get_folder_label() {\n    this.emailService.get_email_label_folder(this.account_id, this.user_id).then(res => {\n      if (res.result.res_data) {\n        this.event.publish('label_folder', res.result.res_data)\n      }\n    })\n  }\n\n  get_email_list(account_id, email_type, state_type, data_id, limit, offset) {\n    this.get_folder_label()\n    return this.emailService.getEmailList(this.user_id, account_id, email_type, state_type, data_id, limit, offset)\n\n  }\n\n  doRefresh(event) {\n    this.isMoreData = true;\n    this.limit = 20;\n    this.offset = 0;\n    this.get_email_list(this.account_id, this.email_type, this.state_type, this.data_id, this.limit, this.offset).then(res => {\n      event.complete();\n      if (res.result && res.result.res_data) {\n        this.email_list = res.result.res_data.email_list\n      }\n    })\n  }\n\n  doInfinite(event) {\n    if (this.isMoreData == true) {\n      this.limit = 20;\n      this.offset = this.offset + 20;\n      this.get_email_list(this.account_id, this.email_type, this.state_type, this.data_id, this.limit, this.offset).then(res => {\n        let item_data = [];\n        if (res.result.res_data) {\n          item_data = res.result.res_data.email_list;\n          if (item_data.length > 0) {\n            this.isMoreData = true;\n          }\n          else {\n            this.isMoreData = false;\n          }\n          for (let item of item_data) {\n            this.email_list.push(item)\n          }\n        }\n        else {\n          this.isMoreData = false;\n        }\n        event.complete();\n      })\n    } else {\n      event.complete();\n    }\n  }\n\n\n  email_detail(id, rt_is_unseen) {\n    this.frontPageIsUnseen = rt_is_unseen\n    this.navCtrl.push('EmailDetailPage', { 'id': id })\n  }\n\n\n  showUnseenSelect() {\n    if (this.title.indexOf('收件') != -1) {\n      let alert = this.alertCtrl.create({\n        cssClass: 'title_alert',\n        title: '收件箱'\n      });\n      let unseen = {\n        type: 'radio',\n        label: '未读',\n        value: '未读',\n        handler: (data) => {\n          this.unseenChoose = data.value\n          this.event.publish('click_envnt', this.account_id, 'state', 'unseen', '')\n          alert.dismiss()\n        }\n      }\n      let all = {\n        type: 'radio',\n        label: '全部',\n        value: '全部',\n        checked: true,\n        handler: (data) => {\n          this.unseenChoose = data.value\n          this.event.publish('click_envnt', this.account_id, 'state', 'all_received', '')\n          alert.dismiss()\n        }\n      }\n      if (this.unseenChoose == '未读') {\n        unseen['checked'] = true\n        all['checked'] = false\n      } else {\n        all['checked'] = true\n        unseen['checked'] = false\n      }\n      alert.addInput(unseen)\n      alert.addInput(all)\n      alert.present();\n    }\n  }\n\n  edit() {\n    this.navCtrl.push('WriteEmailPage', {\n      id: this.account_id,\n      account_list: this.accounts_list,\n      uid: this.user_id\n    })\n  }\n\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/email/email.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EmailPage } from './email';\n\n@NgModule({\n  declarations: [\n    EmailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(EmailPage),\n  ],\n})\nexport class EmailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/email/email.module.ts","import { HttpService } from './../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class EmailService {\n    constructor(private httpService: HttpService) {\n\n    }\n\n    getAccountDetail(user_id) {\n        let body = JSON.stringify({\n            'uid': user_id,\n        });\n        return this.httpService.postBody('get_account_detail', body);\n    }\n\n    uploadAttachment(user_id,filename,data) {\n        let body = JSON.stringify({\n            'uid': user_id,\n            'name':filename,\n            'datas':data,\n        });\n        return this.httpService.postBody('rt_mail/upload_attachment', body, 2);\n    }\n\n    delete_attachment(id){\n        let body = JSON.stringify({\n            'id': id,\n        });\n        return this.httpService.postBodyNoLoading('rt_mail/delete_attachment', body, 2);\n    }\n\n\n    getEmailList(user_id, account_id, email_type, state_type,data_id, limit, offset) {\n        let body = JSON.stringify({\n            'uid': user_id,\n            'account_id': account_id,\n            'email_type': email_type,\n            'state_type': state_type,\n            'data_id':data_id,\n            'limit': limit,\n            'offset': offset\n        });\n        return this.httpService.postBody('get_email_list', body);\n    }\n\n    get_email_detail(id) {\n        let body = JSON.stringify({\n            'id': id\n        });\n        return this.httpService.postBody('rt_mail/get_email_detail', body, 2);\n    }\n\n\n    get_email_label_folder(account_id,user_id){\n        let body = JSON.stringify({\n            'account_id': account_id,\n            'uid':user_id\n        });\n        return this.httpService.postBodyNoLoading('rt_mail/get_email_label_folder', body, 2);\n    }\n\n\n    send_mail(user_id,account_id,email_to,email_cc,email_bcc,subject,body,attach_list,draft){\n        let send_body = JSON.stringify({\n            'uid':user_id,\n            'account_id':account_id,\n            'email_to': email_to,\n            'email_cc':email_cc,\n            'email_bcc':email_bcc,\n            'subject':subject,\n            \"body_html\":body,\n            'attachment_ids':attach_list,\n            'draft':draft\n        });\n        return this.httpService.postBodyNoLoading('rt_mail/email_sent', send_body, 2);\n\n    }\n\n\n    get_contact_list(uid){\n        let body = JSON.stringify({\n            'uid':uid,\n        });\n        return this.httpService.postBodyNoLoading('rt_mail/get_contact_list', body, 2);\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/email/emailService.ts"],"sourceRoot":""}