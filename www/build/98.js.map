{"version":3,"sources":["../../src/pages/work-bench/attendace-recoup/attendance-recoup-create/attendance-recoup-create.ts","../../src/pages/work-bench/attendace-recoup/attendance-recoup-create/attendance-recoup-create.module.ts","webpack:///./src/pages/work-bench/attendace-recoup/attendanceService.ts?b979*"],"names":[],"mappings":"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","file":"98.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController,AlertController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { AttendanceService} from '../attendanceService';\nimport { DatePipe } from '@angular/common';\n\n/**\n * Generated class for the AttendanceRecoupCreatePage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-attendance-recoup-create',\n  templateUrl: 'attendance-recoup-create.html',\n  providers: [DatePipe,AttendanceService],\n})\nexport class AttendanceRecoupCreatePage {\n  user_name;\n  month_time;\n  department_name;\n  data_arr = [];\n  user;\n  constructor(public navCtrl: NavController, public navParams: NavParams,public storage:Storage,public datePipe :DatePipe,\n              public attendanceService:AttendanceService,public alertCtrl:AlertController) {\n      \n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AttendanceRecoupCreatePage');\n    this.storage.get('user').then(res => {\n      console.log(res)\n      this.user = res.result.res_data\n      this.user_name = res.result.res_data.name\n      this.department_name = res.result.res_data.department\n    })\n  }\n\n  ionViewWillEnter() {\n    let data = this.navParams.get(\"data\")\n    console.log(this.navParams.get('item_index'))\n    if (this.navParams.get('item_index'))\n    {\n      if (data){\n        this.data_arr.splice(this.navParams.get('item_index'), 1, data);\n        this.navParams.data.data = false\n      }\n      this.navParams.data.item_index = false\n    }\n    else\n    {\n      if (data){\n        this.data_arr.push(data)\n        this.navParams.data.data = false\n      }\n    }\n  }\n\n  add_detail(){\n    this.navCtrl.push('AttendanceRecoupAddDetailPage',{\n      is_edit:false,\n    })\n  }\n\n  change_type(type){\n    let str = ''\n    if (type == 0){\n      str = '申请补卡'\n    }\n    else\n    {\n      str = '申请销卡'\n    }\n    return str\n  }\n\n  change_work_type(type){\n    let str = ''\n    if (type == 0){\n      str = '上班'\n    }\n    else\n    {\n      str = '下班'\n    }\n\n    return str\n  }\n\n  cal_time(time){\n    return time.replace('T',' ').replace('Z','')\n  }\n\n  save(){\n    let ctrl = this.alertCtrl;\n    this.attendanceService.save_edit_attendance(this.data_arr,this.user.user_id,this.month_time).then(res => {\n      if (res.result && res.result.res_code == 1) {\n      ctrl.create({\n      title: '提示',\n      message: \"保存成功\",\n      buttons: [\n        {\n          text: '确定',\n          handler: data => {\n            this.navCtrl.pop()\n          }\n        }]}).present()\n      }\n    })\n  }\n\n  submit(){\n    let ctrl = this.alertCtrl;\n    this.attendanceService.submit_edit_attendance(this.data_arr,this.user.user_id,this.month_time).then(res => {\n      if (res.result && res.result.res_code == 1) {\n      ctrl.create({\n      title: '提示',\n      message: \"提交成功\",\n      buttons: [\n        {\n          text: '确定',\n          handler: data => {\n            this.navCtrl.pop()\n          }\n        }]}).present()\n      }\n    })\n  }\n\n  click_edit(item,i){\n    console.log(i)\n    this.navCtrl.push('AttendanceRecoupAddDetailPage',{\n      is_edit:true,\n      item_data:item,\n      item_index:i,\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/attendace-recoup/attendance-recoup-create/attendance-recoup-create.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AttendanceRecoupCreatePage } from './attendance-recoup-create';\n\n@NgModule({\n  declarations: [\n    AttendanceRecoupCreatePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AttendanceRecoupCreatePage),\n  ],\n})\nexport class AttendanceRecoupCreatePageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/attendace-recoup/attendance-recoup-create/attendance-recoup-create.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class AttendanceService {\n    constructor(private httpservice: HttpService) {\n\n    }\n\n    get_is_department(employee_id){\n        let body = JSON.stringify({\n            employee_id:employee_id,\n        });\n       return this.httpservice.postBodyNoLoading(\"get_is_department\",body);\n    }\n\n    get_all_edit_card(user_id,need_approve){\n        let body = JSON.stringify({\n            user_id:user_id,\n            need_approve:need_approve,\n        });\n       return this.httpservice.postBody(\"get_all_edit_card\",body);\n    }\n\n    get_today_attendance(day_start,day_end,user_id)\n    {\n        let body = JSON.stringify({\n            day_start:day_start,\n            day_end:day_end,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"get_today_attendance\",body);\n    }\n\n    save_edit_attendance(lines,user_id,month_time)\n    {\n        let body = JSON.stringify({\n            lines:lines,\n            user_id:user_id,\n            month_time:month_time,\n        });\n       return this.httpservice.postBody(\"save_edit_attendance\",body);\n    }\n\n    submit_edit_attendance(lines,user_id,month_time)\n    {\n        let body = JSON.stringify({\n            lines:lines,\n            user_id:user_id,\n            month_time:month_time,\n        });\n       return this.httpservice.postBody(\"submit_edit_attendance\",body);\n    }\n\n    refuse_edit_card(user_id,remark,edit_id){\n        let body = JSON.stringify({\n            remark:remark,\n            user_id:user_id,\n            edit_id:edit_id,\n        });\n       return this.httpservice.postBody(\"refuse_edit_card\",body);\n    }\n    \n    confirm_edit_card(user_id,remark,edit_id){\n        let body = JSON.stringify({\n            remark:remark,\n            user_id:user_id,\n            edit_id:edit_id,\n        });\n       return this.httpservice.postBody(\"confirm_edit_card\",body);\n    }\n\n    back_edit_card(user_id,remark,edit_id){\n        let body = JSON.stringify({\n            remark:remark,\n            user_id:user_id,\n            edit_id:edit_id,\n        });\n       return this.httpservice.postBody(\"back_edit_card\",body);\n    }\n\n    submit_edit_card(user_id,lines,edit_id,delete_arr){\n        let body = JSON.stringify({\n            lines:lines,\n            user_id:user_id,\n            edit_id:edit_id,\n            delete_arr:delete_arr,\n        });\n       return this.httpservice.postBody(\"submit_edit_card\",body);\n    }\n\n    save_edit_card(user_id,lines,edit_id,delete_arr){\n        let body = JSON.stringify({\n            lines:lines,\n            user_id:user_id,\n            edit_id:edit_id,\n            delete_arr:delete_arr,\n        });\n       return this.httpservice.postBody(\"save_edit_card\",body);\n    }\n\n    search_edit_card(type,search_text,user_id){\n        let body = JSON.stringify({\n            type:type,\n            search_text:search_text,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"search_edit_card\",body);\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/attendace-recoup/attendanceService.ts"],"sourceRoot":""}