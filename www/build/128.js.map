{"version":3,"sources":["../../src/pages/chuchai/chuchai-detail/chuchai-detail.ts","../../src/pages/chuchai/chuchai-detail/chuchai-detail.module.ts","webpack:///./src/pages/chuchai/chuchaiService.ts?2509"],"names":[],"mappings":"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","file":"128.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController,AlertController,ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { ChuChaiService } from '../chuchaiService';\nimport { Utils } from './../../../providers/Utils';\n\n/**\n * Generated class for the ChuchaiDetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-chuchai-detail',\n  templateUrl: 'chuchai-detail.html',\n  providers: [ChuChaiService],\n})\nexport class ChuchaiDetailPage {\n  data_arr = []\n  data ;\n  is_manager = false;\n  user;\n  delete_arr = []\n  constructor(public navCtrl: NavController, public navParams: NavParams,public chuchaiService:ChuChaiService,\n              public storage:Storage,public toastCtrl:ToastController,public alertCtrl:AlertController) {\n    this.data = this.navParams.get('data_item')\n    this.data_arr = this.data.detail_lines\n    this.storage.get('user').then(res => {\n      this.user = res.result.res_data\n      if (res.result.res_data.user_id == this.data.to_approve_user_id){\n        this.is_manager = true\n      }\n    })\n}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ChuchaiDetailPage');\n  }\n\n  click_confirm(){\n    let ctrl = this.alertCtrl\n    ctrl.create({\n      title: '提示',\n      message: \"是否确定同意？\",\n      inputs: [\n        {\n          name: 'title',\n          placeholder: '审核意见'\n        },\n      ],\n      buttons: [{\n          text: '取消',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n          }\n        },\n        {\n          text: '确定',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n            if (data.title)\n            {\n              this.chuchaiService.pass_trip(this.user.user_id,this.data.vacation_id,data.title).then(res => {\n                if (res.result && res.result.res_code == 1) {\n                  Utils.toastButtom(\"操作成功\", this.toastCtrl)\n                   this.navCtrl.pop()\n                }\n              })\n              \n            }\n            else\n            {\n               this.chuchaiService.pass_trip(this.user.user_id,this.data.vacation_id,false).then(res => {\n                if (res.result && res.result.res_code == 1) {\n                  Utils.toastButtom(\"操作成功\", this.toastCtrl)\n                   this.navCtrl.pop()\n                }\n              })\n            }\n            \n          }\n        }]}).present()\n  }\n\n  click_refuse(){\n    let ctrl = this.alertCtrl\n    ctrl.create({\n      title: '提示',\n      message: \"是否确定拒绝？\",\n      inputs: [\n        {\n          name: 'title',\n          placeholder: '拒绝原因(必填)'\n        },\n      ],\n      buttons: [{\n          text: '取消',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n          }\n        },\n        {\n          text: '确定',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n            if (data.title)\n            {\n              this.chuchaiService.refuse_trip(this.user.user_id,this.data.vacation_id,data.title).then(res => {\n                if (res.result && res.result.res_code == 1) {\n                  \n                  Utils.toastButtom(\"操作成功\", this.toastCtrl)\n                   this.navCtrl.pop()\n                }\n              })\n              \n            }\n            else\n            {\n                Utils.toastButtom(\"请填写拒绝原因\", this.toastCtrl)\n            }\n            \n          }\n        }]}).present()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chuchai/chuchai-detail/chuchai-detail.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ChuchaiDetailPage } from './chuchai-detail';\n\n@NgModule({\n  declarations: [\n    ChuchaiDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ChuchaiDetailPage),\n  ],\n})\nexport class ChuchaiDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chuchai/chuchai-detail/chuchai-detail.module.ts","import { HttpService } from './../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class ChuChaiService {\n    constructor(private httpservice: HttpService) {\n        \n    }\n\n    get_is_department(employee_id){\n        let body = JSON.stringify({\n            employee_id:employee_id,\n        });\n       return this.httpservice.postBodyNoLoading(\"get_is_department\",body);\n    }\n\n    get_total_trip(user_id,need_approve){\n        let body = JSON.stringify({\n            user_id:user_id,\n            need_approve:need_approve,\n        });\n       return this.httpservice.postBody(\"get_total_trip\",body);\n    }\n\n    pass_trip(user_id,vacation_id,remark){\n        let body = JSON.stringify({\n            user_id:user_id,\n            vacation_id:vacation_id,\n            remark:remark,\n        });\n       return this.httpservice.postBody(\"pass_trip\",body);\n    }\n\n    refuse_trip(user_id,vacation_id,remark){\n        let body = JSON.stringify({\n            user_id:user_id,\n            vacation_id:vacation_id,\n            remark:remark,\n        });\n       return this.httpservice.postBody(\"refuse_trip\",body);\n    }\n\n    search_trip(type,search_text,user_id){\n        let body = JSON.stringify({\n            type:type,\n            search_text:search_text,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"search_trip\",body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/chuchai/chuchaiService.ts"],"sourceRoot":""}