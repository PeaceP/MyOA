{"version":3,"sources":["../../src/pages/work-bench/journal-sheet/journal-sheet.ts","../../src/pages/work-bench/journal-sheet/journal-sheet.module.ts","webpack:///./src/pages/work-bench/journal-sheet/writejournalService.ts?9817**"],"names":[],"mappings":"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","file":"78.js","sourcesContent":["import { WriteJournalService } from './writejournalService';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { Storage } from '@ionic/storage';\nimport { Utils } from '../../../providers/Utils';\n\n/**\n * Generated class for the JournalSheetPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-journal-sheet',\n  templateUrl: 'journal-sheet.html',\n  providers: [WriteJournalService],\n})\nexport class JournalSheetPage {\n  isWrite = true;\n  isLook = false;\n  writeImg;\n  lookImg;\n  num = 0;\n  user_id;\n  title = '写日志';\n  team_id;\n  team: any;\n  admin = false;\n  manager = false;\n  team_list = [];\n  constructor(public navCtrl: NavController, public navParams: NavParams, public statusBar:StatusBar,\n              public writejournalService: WriteJournalService,\n              public storage: Storage) {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad JournalSheetPage');\n    this.writeImg = \"assets/img/journal_sheet/write_logcolor.png\"\n    this.lookImg = \"assets/img/journal_sheet/look_log.png\"\n  }\n\n\n\n  ionViewWillEnter() {\n    this.statusBar.backgroundColorByHexString(\"#2597ec\");\n    this.statusBar.styleLightContent();\n    this.storage.get('user')\n    .then(res => {\n      this.user_id = res.result.res_data.user_id;\n      if(res.result.res_data.team){\n        this.team_id = res.result.res_data.team.team_id;\n        this.getStartList()\n      }\n      for(let product of res.result.res_data.groups){\n        if (product.name == \"group_sale_manager\"){\n          this.admin = true\n          this.getStartList()\n          break;\n        }\n        if(product.name == \"group_sale_salesman_all_leads\"){\n          this.manager = true\n          this.writejournalService.get_sale_team(this.user_id).then(res =>{\n            if(res.result.res_code==1 && res.result){\n              console.log(res)\n              var list = res.result.res_data\n              var length = list.length;\n              for (var i=0; i < length; i++) {\n                this.team_list[i] = list[i].team_id\n                }\n                this.getStartList();\n            }\n           }\n          )\n        }\n      }\n    });\n  }\n\n  //获取数目\n  getStartList(){\n    let body = {\n      today: true,\n      num: true,\n      todayTime: Utils.dateFormat(new Date(), 'yyyy-MM-dd'),\n      uid: this.user_id,\n      team_id: this.team_id,\n      admin: this.admin,\n      manager: this.manager,\n      team_list: this.team_list\n  }\n  this.writejournalService.get_visit_list(body).then(res =>{\n    if(res.result.res_code==1 && res.result){\n      console.log(res)\n      this.num = res.result.res_data.num\n    }\n  })\n  }\n  goBack(){\n    this.statusBar.backgroundColorByHexString(\"#f8f8f8\");\n    this.statusBar.styleDefault();\n    this.navCtrl.pop();\n  }\n\n  visit(){\n    this.navCtrl.push('WriteJournalPage')\n    // this.navCtrl.push('WriteJournalPage',{team: this.team})\n  }\n\n  chooseWrite(){\n      this.isWrite = true\n      this.isLook = false\n      this.writeImg = \"assets/img/journal_sheet/write_logcolor.png\"\n      this.lookImg = \"assets/img/journal_sheet/look_log.png\"\n      this.title = '写日志'\n  }\n\n  chooseLook(){\n    this.isWrite = false\n    this.isLook = true\n    this.writeImg = \"assets/img/journal_sheet/write_log.png\"\n    this.lookImg = \"assets/img/journal_sheet/look_logcolor.png\"\n    this.title = '看日志'\n  }\n\n  get_visit_list(){\n    this.navCtrl.push(\"VisitListPage\")\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/journal-sheet/journal-sheet.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { JournalSheetPage } from './journal-sheet';\n\n@NgModule({\n  declarations: [\n    JournalSheetPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(JournalSheetPage),\n  ],\n})\nexport class JournalSheetPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/journal-sheet/journal-sheet.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class WriteJournalService{\n    constructor(private httpservice: HttpService) {\n\n    }\n    //创建拜访记录\n    create_visit_journal(body) {\n        return this.httpservice.postBody(\"create_visit\", body);\n    }\n\n    //获取拜访列表\n    get_visit_list(body){\n        return this.httpservice.postBody(\"get_visit_list\", body);\n    }\n\n\n    //获取管理的销售团队\n    get_sale_team(uid){\n        let body = JSON.stringify({\n            uid: uid\n        });\n        return this.httpservice.postBody(\"get_sale_team\", body);\n    }\n\n    //获取所有的销售团队\n    get_all_sale_team(){\n        let body = JSON.stringify({\n        });\n        return this.httpservice.postBody(\"get_all_sale_team\", body);\n    }\n\n    //获取团队的销售员\n    get_saleteam_person(body){\n        return this.httpservice.postBody(\"get_saleteam_person\", body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/journal-sheet/writejournalService.ts"],"sourceRoot":""}