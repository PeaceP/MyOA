{"version":3,"sources":["../../src/pages/work-bench/vacation-approval/vacation-detail/vacation-detail.ts","../../src/pages/work-bench/vacation-approval/vacation-detail/vacation-detail.module.ts","webpack:///./src/pages/work-bench/vacation-approval/vacationService.ts?83a3"],"names":[],"mappings":"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","file":"44.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ActionSheetController,AlertController,ToastController } from 'ionic-angular';\nimport { Storage } from '@ionic/storage';\nimport { VacationService } from '../vacationService';\nimport { Utils } from './../../../../providers/Utils';\ndeclare let cordova: any;\n/**\n * Generated class for the VacationDetailPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-vacation-detail',\n  templateUrl: 'vacation-detail.html',\n  providers: [VacationService]\n})\nexport class VacationDetailPage {\n  data_arr = []\n  data ;\n  is_manager = false;\n  user;\n  delete_arr = []\n  constructor(public navCtrl: NavController, public navParams: NavParams,public vacationService:VacationService,public storage:Storage,\n              public alertCtrl: AlertController,public toastCtrl:ToastController) {\n    this.data = this.navParams.get('data_item')\n    this.data_arr = this.data.detail_lines\n    this.storage.get('user').then(res => {\n      this.user = res.result.res_data\n      if (res.result.res_data.user_id == this.data.to_approve_user_id){\n        this.is_manager = true\n      }\n    })\n}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad VacationDetailPage');\n    // cordova.plugins.Keyboard.close();\n  }\n   ionViewWillEnter() {\n     \n   }\n\n  click_confirm(){\n    let ctrl = this.alertCtrl\n    ctrl.create({\n      title: '提示',\n      message: \"是否确定同意？\",\n      inputs: [\n        {\n          name: 'title',\n          placeholder: '审核意见'\n        },\n      ],\n      buttons: [{\n          text: '取消',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n          }\n        },\n        {\n          text: '确定',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n            if (data.title)\n            {\n              this.vacationService.pass_vacation(this.user.user_id,this.data.vacation_id,data.title).then(res => {\n                if (res.result && res.result.res_code == 1) {\n                  Utils.toastButtom(\"操作成功\", this.toastCtrl)\n                   this.navCtrl.pop()\n                }\n              })\n              \n            }\n            else\n            {\n               this.vacationService.pass_vacation(this.user.user_id,this.data.vacation_id,false).then(res => {\n                if (res.result && res.result.res_code == 1) {\n                  Utils.toastButtom(\"操作成功\", this.toastCtrl)\n                   this.navCtrl.pop()\n                }\n              })\n            }\n            \n          }\n        }]}).present()\n  }\n\n  click_refuse(){\n    let ctrl = this.alertCtrl\n    ctrl.create({\n      title: '提示',\n      message: \"是否确定拒绝？\",\n      inputs: [\n        {\n          name: 'title',\n          placeholder: '拒绝原因(必填)'\n        },\n      ],\n      buttons: [{\n          text: '取消',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n          }\n        },\n        {\n          text: '确定',\n          handler: data => {\n            // cordova.plugins.Keyboard.close();\n            if (data.title)\n            {\n              this.vacationService.refuse_vacation(this.user.user_id,this.data.vacation_id,data.title).then(res => {\n                if (res.result && res.result.res_code == 1) {\n                  \n                  Utils.toastButtom(\"操作成功\", this.toastCtrl)\n                   this.navCtrl.pop()\n                }\n              })\n              \n            }\n            else\n            {\n                Utils.toastButtom(\"请填写拒绝原因\", this.toastCtrl)\n            }\n            \n          }\n        }]}).present()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/vacation-approval/vacation-detail/vacation-detail.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { VacationDetailPage } from './vacation-detail';\n\n@NgModule({\n  declarations: [\n    VacationDetailPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(VacationDetailPage),\n  ],\n})\nexport class VacationDetailPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/vacation-approval/vacation-detail/vacation-detail.module.ts","import { HttpService } from './../../../providers/HttpService';\nimport { Injectable } from '@angular/core';\n\n\n@Injectable()\nexport class VacationService {\n    constructor(private httpservice: HttpService) {\n        \n    }\n    \n    get_is_department(employee_id){\n        let body = JSON.stringify({\n            employee_id:employee_id,\n        });\n       return this.httpservice.postBodyNoLoading(\"get_is_department\",body);\n    }\n\n    get_total_vacation(user_id,need_approve){\n        let body = JSON.stringify({\n            user_id:user_id,\n            need_approve:need_approve,\n        });\n       return this.httpservice.postBody(\"get_total_vacation\",body);\n    }\n\n    pass_vacation(user_id,vacation_id,remark){\n        let body = JSON.stringify({\n            user_id:user_id,\n            vacation_id:vacation_id,\n            remark:remark,\n        });\n       return this.httpservice.postBody(\"pass_vacation\",body);\n    }\n\n    refuse_vacation(user_id,vacation_id,remark){\n        let body = JSON.stringify({\n            user_id:user_id,\n            vacation_id:vacation_id,\n            remark:remark,\n        });\n       return this.httpservice.postBody(\"refuse_vacation\",body);\n    }\n\n    search_vacation(type,search_text,user_id){\n        let body = JSON.stringify({\n            type:type,\n            search_text:search_text,\n            user_id:user_id,\n        });\n       return this.httpservice.postBody(\"search_vacation\",body);\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-bench/vacation-approval/vacationService.ts"],"sourceRoot":""}