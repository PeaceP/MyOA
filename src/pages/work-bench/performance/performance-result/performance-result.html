<!--
  Generated template for the PerformanceResultPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar color="gongdan-color" hideBackButton="true">
        <ion-buttons left>
            <button ion-button icon-only (click)="goBack()">
              <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
            </button>
          </ion-buttons>
      <ion-title>考评结果</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
    <ion-item-group no-lines>
        <ion-item style="border-bottom:#f0f2f5 1px solid;">
            <p text-wrap style="font-size:13px;color:#1eabfe;margin-right:25px;float: right;margin-top: 0px"
            [ngClass]="{true:'wait',false:'finish'}[isFinish(state)]">{{changeStr(state)}}</p>
            <img src={{user_heard}} class="image1" style="float:left;">   
            <p text-wrap style="font-size:80%;color:gray;line-height:27px;margin-left: 30px;">{{rt_appraisaled_employee_name}}</p>
        </ion-item>
      </ion-item-group>
      <div style="border-bottom:#f0f2f5 1px solid;">
            <p style="font-size:13px;float: left;color:#949ca1;margin-left: 20px;margin-top: -2px;height: 15px;line-height: 15px">单号</p>
            <p style="font-size:13px;color:#949ca1;margin-left: 120px;height: 25px;">{{rt_name}}</p>
            <p style="font-size:13px;float: left;color:#949ca1;margin-left: 20px;margin-top: -2px">考核周期</p>
            <p style="font-size:13px;color:#949ca1;margin-left: 120px;height: 25px;">{{changeCycle(rt_appraisal_cycle)}}</p>
            <p style="font-size:13px;float: left;color:#949ca1;margin-left: 20px;margin-top: -2px">部门</p>
            <p style="font-size:13px;color:#949ca1;margin-left: 120px;height: 25px;">{{rt_department_id}}</p>
            <p style="font-size:13px;float: left;color:#949ca1;margin-left: 20px;margin-top: -2px">岗位</p>
            <p style="font-size:13px;color:#949ca1;margin-left: 120px">{{rt_job_id}}</p>
      </div>
      <ion-item-group no-lines>
          <ion-item no-lines>
              <p text-wrap style="font-size:18px;color:red;margin-right:25px;float: right;margin-top: 0px">{{rt_manager_final_score}}</p>
              <p text-wrap style="font-size:14px;line-height:27px;margin-left: 5px;">最终结果</p>
          </ion-item>
          <ion-item no-lines>
              <p text-wrap style="font-size:14px;margin-left:5px;margin-top: 0px">主管评价</p>
              <p text-wrap style="font-size:12px;color:gray;line-height:27px;margin-left: 5px;">{{rt_manager_advice}}</p>
          </ion-item>
          <ion-item no-lines>
              <p text-wrap style="font-size:18px;margin-right:25px;float: right;margin-top: 0px">{{result_score}}</p>
              <p text-wrap style="font-size:14px;line-height:27px;margin-left: 5px;">考评结果</p>
              <p style="font-size:10px;color:gray;margin-left: 5px;word-wrap:break-word;">满分5分,计算公式:员工自评*{{rt_self_proportion}}%+主管评分*{{rt_manager_proportion}}%+评价人{{other_num}}*{{rt_other_proportion}}%</p>
          </ion-item>
          <ion-item-group style="padding-bottom: 80px">
                <p text-wrap style="font-size:14px;margin-left:20px;margin-top: 0px;color: gray">考评人</p>
                <div *ngFor="let item of rt_appraisal_detail_lines" style="float: left;margin-left: 5px" tappable (click) = "lookPerformance(item)">
                    <span [ngClass]="{true:'backcolor1',false:'backcolor_normal'}[isShowBack(item.resultScore)]"
                    style="margin-left: 20px;width:38px;height:38px;border-radius:38px;display:inline-block;text-align:center;padding-top: 10px;">{{item.resultScore}}</span>
                    <p style="font-size: 12px;color: #949ca1;margin-left: 20px">{{whoCare(item.rt_appraisal_type)}}</p>
                </div>
                <!-- <div style="height: 10px;line-height: 10px;background:#f0f2f5;"></div> -->
          </ion-item-group>
      </ion-item-group>
  <ion-grid style="padding: 0px">
      <ion-row class="row_class" align-items-center>
        <ion-col style="padding: 0px;border-bottom:#f0f2f5 1px solid;border-top: #f0f2f5 10px solid">
        <div align="center">
          <p>KPI考评</p>
          <p *ngIf="show_null" style="color: gray;font-size: 12px">
              暂无
          </p> 
        </div>
      </ion-col>        
      </ion-row>
  </ion-grid>
  <ion-item-group no-lines style="border-bottom:#f0f2f5 1px solid;">
        <div *ngFor="let typeBean of listItem">
          <p style="font-size: 14px;float: right;margin-top: 0px;margin-right: 25px;height:15px">{{typeBean.score}}</p>
          <span style="margin-left: 15px;width:8px;height:8px;border-radius:8px;background-color:#2597ec;display:inline-block;float: left;margin-top: 5px"></span>
          <h4 style="font-size: 14px;margin-left: 35px">{{typeBean.type}}评价</h4>
          <div *ngFor="let tagBean of typeBean.tagList" style="margin-top: 15px">
                <span style="margin-left: 15px;width:5px;height:5px;border-radius:5px;background-color:#b4b4af;display:inline-block;float: left;margin-top: 5px"></span>
                <p style="font-size: 10px;color: #949ca1;margin-left: 25px;word-wrap:break-word;" >{{tagBean.biaoqian}}</p>
                <div *ngFor="let item of tagBean.subList">
                        <p style="font-size: 13px;color: #949ca1;margin-left: 15px">{{item.sub_type}}</p>
                        <div class="progress-outer" style="margin-top: 0px;margin-left: 15px">
                            <div class="progress-inner" [style.width]="item.sub_score + '%'">
                            </div>
                        </div>
                </div>  
          </div>
        </div>
  </ion-item-group>
  <div style="height: 10px;line-height: 10px;background:#f0f2f5;"></div>
  <ion-grid style="padding: 0px">
      <ion-row class="row_class" align-items-center>
        <ion-col style="padding: 0px;border-bottom:#f0f2f5 1px solid;">
        <div align="center">
          <p>主观描述</p> 
        </div>
      </ion-col>        
      </ion-row>
  </ion-grid>
  <ion-item-group no-lines style="border-bottom:#f0f2f5 1px solid;">
      <div>
          <span style="margin-left: 15px;width:8px;height:8px;border-radius:8px;background-color:#2597ec;display:inline-block;float: left;margin-top: 5px"></span>
          <h4 style="font-size: 14px;margin-left: 35px;color: #2e3133">工作总结</h4>
          <p style="color:#949ca1;font-size: 12px;margin-left: 25px">1.工作成绩：完成的重要事项，工作中的收获提升以及感悟</p>
          <p style="color:#949ca1;font-size: 12px;margin-left: 25px">2.工作不足：遇到的内外部问题、失误，如何避免或者改进</p>
          <p style="color:#949ca1;font-size: 14px;margin-left: 25px">详情见考评人</p>
        </div>
  </ion-item-group>
  <ion-item-group no-lines style="border-bottom:#f0f2f5 1px solid;">
      <div>
          <span style="margin-left: 15px;width:8px;height:8px;border-radius:8px;background-color:#2597ec;display:inline-block;float: left;margin-top: 5px"></span>
          <h4 style="font-size: 14px;margin-left: 35px;color: #2e3133">工作计划</h4>
          <p style="color:#949ca1;font-size: 12px;margin-left: 25px">1.近期计划；2.长期规划</p>
          <p style="color:#949ca1;font-size: 14px;margin-left: 25px">详情见考评人</p>
        </div>
  </ion-item-group>
  
  <ion-item-group no-lines style="border-bottom:#f0f2f5 1px solid;">
      <div>
          <span style="margin-left: 15px;width:8px;height:8px;border-radius:8px;background-color:#2597ec;display:inline-block;float: left;margin-top: 5px"></span>
          <h4 style="font-size: 14px;margin-left: 35px;color: #2e3133">意见和建议</h4>
          <p style="color:#949ca1;font-size: 14px;margin-left: 25px">详情见考评人</p>
      </div>
  </ion-item-group>
  <ion-item-group no-lines style="border-bottom:#f0f2f5 1px solid;" *ngIf="rt_is_need_self">
      <div>
          <span style="margin-left: 15px;width:8 px;height:8px;border-radius:8px;background-color:#2597ec;display:inline-block;float: left;margin-top: 5px"></span>
          <h4 style="font-size: 14px;margin-left: 20px;color: #2e3133">期望薪资</h4>
          <p style="font-size: 12px;color: #949ca1;margin-left: 25px">{{salary_exception}}</p>
      </div>
  </ion-item-group>
</ion-content>
