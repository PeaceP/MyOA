<!--
  Generated template for the NewCustomerPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-content style="background-color:#f0f2f5">
  <div ion-fixed class="div_header">
    <div class="div_header_back">
      <ion-auto-complete class="search_class" (itemSelected)="itemSelected($event)" (itemClearSelected)="itemClearSelected($event)"
        [dataProvider]="customerAutoService"></ion-auto-complete>
      <button class="btn_class" ion-button icon-only (click)="goBack()">
        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
      </button>
    </div>

    <div align="center" class="main_header_div">
      <div class="div_every_class" align="center" tappable (click)="click_customer()">
        <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='customer']">客户</p>
      </div>
      <div class="div_every_class" align="center" tappable (click)="click_hd_customer()">
        <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='hd_customer']">活动客户</p>
      </div>
      <div class="div_every_class" align="center" tappable (click)="click_xs_customer()">
        <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='xs_customer']">线索客户</p>
      </div>
      <div class="div_every_class" align="center" tappable (click)="click_gh_customer()">
        <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='gh_customer']">公海客户</p>
      </div>
    </div>
  </div>

  <div style="margin-top: 100px;">
    <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>
    <ion-list>
      <div *ngFor='let item of data_arr;let i = index'>
        <ion-item no-lines [ngClass]="{true:'item_empty_class',false:'item_class'}[i == 0]" tappable (click)='partner_detail(item)'>
          <p text-wrap class="title_class"> {{item.name}} </p>
          <p text-wrap> 销售员：{{item.user_id}} / {{item.team_name}}</p>
          <p text-wrap>
            <span>
              <ion-icon *ngFor='let item of starArr | slice:(5 - item.priority) ; let i = index' name="star" class="icon_select_class"></ion-icon>
                <ng-container *ngFor='let item of starArr | slice:(item.priority) ;let i = index'>
                  <ion-icon name="star" [ngClass]="{true:'icon_unselect_class_first',false:'icon_unselect_class'}[i==0]" ></ion-icon>
                </ng-container>
            </span>
          </p>
        </ion-item>
      </div>
    </ion-list>
    <ion-infinite-scroll (ionInfinite)="doInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll>
  </div>
</ion-content>