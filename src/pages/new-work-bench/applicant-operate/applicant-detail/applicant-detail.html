<!--
  Generated template for the ApplicantDetailPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar color="gongdan-color" hideBackButton="true">
    <ion-buttons left>
      <button tappable ion-button icon-only (click)="goBack()">
              <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>
            </button>
    </ion-buttons>
    <ion-title>{{item.applicant_name}}</ion-title>
    <img tappable (click)='click_more()' style="float: right;
    margin-right: 5px;width: 30px;" src="assets/img/more_btn_white.png" *ngIf="can_show_btn" />
  </ion-navbar>

</ion-header>


<ion-content>
  <!--<div>
    <p text-wrap style="font-size:70%;float:right;color:#E0540E;line-height: 20px;">{{changeState(item.state)}}</p>
    <h3 text-wrap>{{item.applicant_name}}</h3>

    <h4 text-wrap style="font-size:80%;"> </h4>
    <p text-wrap style="font-size:70%;float:right;color:white;font-weight:bold"> </p>
    <p text-wrap style="font-size:80%;color:gray">身份证：{{item.identification_id}} </p>
    <p text-wrap style="font-size:80%;color:gray" *ngIf="item.department">{{item.department}} | {{item.job}} </p>
  </div>-->

  <div style="width:90%;margin-left:5%;box-shadow: 2px 4px 22px #edeeee;margin-top: 20px;height: 95px;margin-bottom: 20px;border-radius:10px;">
    <div class="item-ios" style="padding-left:20px;padding-top: 15px; padding-right:20px;">
      <div text-wrap style="font-size:70%;float:right;color:#E0540E;line-height: 24px;">{{changeState(item.state)}}
        <p style="text-align:right;font-size:100%;" *ngIf="item.to_approved_name">
          {{item.to_approved_name}}
        </p>
      </div>
      
      <h4 style="font-size: 17px;" text-wrap>{{item.applicant_name}}</h4>
      <h4 text-wrap style="font-size:80%;"> </h4>
      <p text-wrap style="font-size:75%;float:right;color:white;font-weight:bold"> </p>
      <p text-wrap style="font-size:80%;color:gray" *ngIf="item.department">{{item.department}} | {{item.job}} </p>
      <p text-wrap style="font-size:80%;color:gray">身份证：{{item.identification_id}} </p>
    </div>

  </div>
  <div align="center" class="main_header_div">
    <div class="div_every_class" align="center" tappable (click)="click_dongtai_info()">
      <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='dongtai_info']">动态</p>
    </div>
    <div class="div_every_class" align="center" tappable (click)="click_applicant_info()">
      <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='applicant_info']">个人简历</p>
    </div>
    <div class="div_every_class" align="center" tappable (click)="click_attachment_info()">
      <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='attachment_info']">附件</p>
    </div>
    <div class="div_every_class" align="center" tappable (click)="click_test_info()">
      <p [ngClass]="{true:'p_line_height_select',false:'p_line_height'}[detail_type=='test_info']">测评</p>
    </div>
  </div>
  <div *ngIf="detail_type=='dongtai_info'">
    <ion-list style="margin-top: 2px;">
      <div class="div_body_class" *ngFor='let message_detail of item.message_ids'>
        <img class="div_img_class" src={{message_detail.create_person_ava}}>
        <div style="overflow:hidden">
          <span class="span_create_person_class">{{message_detail.create_person}}</span>

          <span class="span_create_time_class">{{message_detail.create_time}}</span>
        </div>
        <p *ngIf="message_detail.old_state || message_detail.new_state" class="p_body_class">{{message_detail.old_state}}=>{{message_detail.new_state}}</p>
        <p text-wrap class="p_body_class">{{message_detail.description}}</p>
      </div>
    </ion-list>
  </div>
  <div *ngIf="detail_type=='applicant_info'">
    <div class="list_body_class_no_bottom_line">
      <div class="body_type_class">
        <div class="shu_class">
        </div>
        <div class="title_class">
          基本信息
        </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.rt_birth}}</div>
        <div class="div_left"> 出生日期 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.rt_nation}}</div>
        <div class="div_left"> 籍贯 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.rt_current_place}}</div>
        <div class="div_left"> 住址 </div>
      </div>
    </div>
    <div class="list_body_class_no_bottom_line">
      <div class="body_type_class">
        <div class="shu_class">
        </div>
        <div class="title_class">
          教育经历
        </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{changeEducation(item.rt_education)}}</div>
        <div class="div_left"> 最高学历 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.rt_profession}}</div>
        <div class="div_left"> 专业 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.rt_school}}</div>
        <div class="div_left"> 毕业学院 </div>
      </div>
    </div>
    <div class="list_body_class_no_bottom_line">
      <div class="body_type_class">
        <div class="shu_class">
        </div>
        <div class="title_class">
          联系方式
        </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right" style="color: #2597ec" tappable (click)="click_phone()"> {{item.partner_phone}}</div>
        <div class="div_left"> 手机 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.email_from}}</div>
        <div class="div_left"> E-mail </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.reference}}</div>
        <div class="div_left"> 渠道来源 </div>
      </div>
    </div>
    <div class="list_body_class_no_bottom_line">
      <div class="body_type_class">
        <div class="shu_class">
        </div>
        <div class="title_class">
          其他
        </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.rt_in_work_time}}</div>
        <div class="div_left"> 到岗时间 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{item.rt_leave_work_reason}}</div>
        <div class="div_left"> 离职原因 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{changeMarryState(item.rt_marry_state)}}</div>
        <div class="div_left"> 婚姻状况 </div>
      </div>
      <div class="div_all">
        <div text-wrap class="div_right"> {{changeEnglishLevel(item.rt_english_level)}}</div>
        <div class="div_left"> 英语等级 </div>
      </div>
    </div>
  </div>
  <div *ngIf="detail_type=='attachment_info'">
    <div class="list_body_class_no_bottom_line" *ngIf="item.identification_id_imgs.length > 0">
      <div class="body_type_class">
        <div class="shu_class">
        </div>
        <div class="title_class">
          身份证
        </div>
      </div>
      <ion-grid *ngIf="item.identification_id_imgs.length > 0">
        <ion-row style="margin-right:5px;">
          <ion-col style="height:70px;" *ngFor="let image of item.identification_id_imgs" col-3>
            <img style="position:absolute;clip:rect(0px,70px,70px,0px);background-color:#f0f2f5" src='{{image}}' imageViewer/>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div class="list_body_class_no_bottom_line">
      <div class="body_type_class" *ngIf="item.bank_card_imgs.length > 0">
        <div class="shu_class">
        </div>
        <div class="title_class">
          银行卡
        </div>
      </div>
      <ion-grid *ngIf="item.bank_card_imgs.length > 0">
        <ion-row style="margin-right:5px;">
          <ion-col style="height:70px;" *ngFor="let image of item.bank_card_imgs" col-3>
            <img style="position:absolute;clip:rect(0px,70px,70px,0px);background-color:#f0f2f5" src='{{image}}' imageViewer/>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div class="list_body_class_no_bottom_line" *ngIf="item.other_imgs.length > 0">
      <div class="body_type_class">
        <div class="shu_class">
        </div>
        <div class="title_class">
          其他
        </div>
      </div>
      <ion-grid *ngIf="item.other_imgs.length > 0">
        <ion-row style="margin-right:5px;">
          <ion-col style="height:70px;" *ngFor="let image of item.other_imgs" col-3>
            <img style="position:absolute;clip:rect(0px,70px,70px,0px);background-color:#f0f2f5" src='{{image}}' imageViewer/>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
  </div>
  <div *ngIf="detail_type=='test_info'">
    <div class="list_body_class_no_bottom_line">
      <div class="body_type_class">
        <div class="shu_class">
        </div>
        <div class="title_class">
          色彩性格测试
        </div>
      </div>
    </div>
    <div id="container" class="container_class">

    </div>
  </div>
</ion-content>

<ion-footer *ngIf="detail_type=='dongtai_info'">
  <div class="footer_class">
    <ion-input class="input_class" placeholder="写下你的回复..." [(ngModel)]="msg_text">
    </ion-input>
    <div class="send_div_class" tappable (click)="send_msg()">
      发送
    </div>
  </div>
</ion-footer>